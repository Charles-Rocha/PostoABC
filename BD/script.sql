CREATE TABLE COMBUSTIVEIS (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    COMBUSTIVEL VARCHAR(30) NOT NULL);
    
ALTER TABLE COMBUSTIVEIS
ADD CONSTRAINT PK_COMBUSTIVEIS
PRIMARY KEY (ID);    
    
CREATE TABLE TANQUES (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    TANQUE VARCHAR(30) NOT NULL,
    ID_COMBUSTIVEL INTEGER NOT NULL);
    
ALTER TABLE TANQUES
ADD CONSTRAINT PK_TANQUES
PRIMARY KEY (ID);    

ALTER TABLE TANQUES
ADD CONSTRAINT FK_TANQUES_COMBUSTIVEL
FOREIGN KEY (ID_COMBUSTIVEL)
REFERENCES COMBUSTIVEIS(ID)
ON DELETE CASCADE
ON UPDATE CASCADE;

CREATE TABLE BOMBAS (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    BOMBA VARCHAR(30) NOT NULL,
    ID_TANQUE INTEGER NOT NULL);

ALTER TABLE BOMBAS
ADD CONSTRAINT PK_BOMBAS
PRIMARY KEY (ID);

ALTER TABLE BOMBAS
ADD CONSTRAINT FK_BOMBAS_TANQUE
FOREIGN KEY (ID_TANQUE)
REFERENCES TANQUES(ID)
ON DELETE CASCADE
ON UPDATE CASCADE;    

CREATE TABLE ABASTECIMENTOS (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    DATA DATE NOT NULL,
    QTD_LITROS FLOAT NOT NULL,
    PRECO_COMBUSTIVEL FLOAT NOT NULL,
    VALOR FLOAT NOT NULL,
    VALOR_IMPOSTO FLOAT NOT NULL,
    ID_BOMBA INTEGER NOT NULL);
    
ALTER TABLE ABASTECIMENTOS
ADD CONSTRAINT PK_ABASTECIMENTOS
PRIMARY KEY (ID);

ALTER TABLE ABASTECIMENTOS
ADD CONSTRAINT FK_ABASTECIMENTOS_BOMBA
FOREIGN KEY (ID_BOMBA)
REFERENCES BOMBAS(ID)
ON DELETE CASCADE
ON UPDATE CASCADE;    

INSERT INTO COMBUSTIVEIS (COMBUSTIVEL)
VALUES('Gasolina');

INSERT INTO COMBUSTIVEIS (COMBUSTIVEL)
VALUES('Ã“leo Diesel');

INSERT INTO TANQUES (TANQUE, ID_COMBUSTIVEL)
VALUES('Tanque 1', 1);

INSERT INTO TANQUES (TANQUE, ID_COMBUSTIVEL)
VALUES('Tanque 2', 2);

INSERT INTO BOMBAS (BOMBA, ID_TANQUE)
VALUES('Bomba 1', 1);

INSERT INTO BOMBAS (BOMBA, ID_TANQUE)
VALUES('Bomba 2', 1);

INSERT INTO BOMBAS (BOMBA, ID_TANQUE)
VALUES('Bomba 3', 2);

INSERT INTO BOMBAS (BOMBA, ID_TANQUE)
VALUES('Bomba 4', 2);

